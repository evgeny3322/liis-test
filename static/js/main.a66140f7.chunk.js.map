{"version":3,"sources":["components/common/Heart.jsx","components/common/Star.jsx","config.js","auxillary.js","redux/contants.js","components/common/FormatPrice.js","components/HomePage/Fav/FavItem/FavItem.jsx","components/HomePage/Fav/Fav.jsx","components/common/ErrorHelper.jsx","components/HomePage/Filter/Filter.jsx","components/HomePage/Header/Header.jsx","assets/car1.png","assets/car2.png","assets/car3.png","components/HomePage/Main/Gallery/Gallery.jsx","components/common/HomeIcon.jsx","components/common/HotelItem.jsx","components/common/Loader.jsx","components/HomePage/Main/Main.jsx","components/HomePage/PaginationFilter/PaginationFilter.jsx","components/HomePage/HomePage.jsx","components/LoginPage/LoginPage.jsx","redux/reducers/homepage.js","redux/reducers/index.js","api/index.js","redux/sagas/index.js","redux/index.js","index.js"],"names":["Heart","size","isFav","onClick","color","Provider","value","className","Star","emailPattern","passwordPattern","options","year","month","day","RATE","PRICE","pageDomain","checkDays","days","SET_HOTELS","START_LOADING","END_LOADING","SET_REQUEST","SET_MODE_RATE","SET_MODE_PRICE","SET_FAV_APP","SET_FAV","CHANGE_PAGE","SET_PAGE","formatPrice","price","formattedPrice","Math","floor","toString","length","firstPart","secondPart","slice","thirdPart","FavItem","hotel","dispatch","useDispatch","useSelector","store","homepage","request","date","hotelName","stars","priceAvg","s","i","push","dif","style","borderBottom","paddingBottom","Date","toLocaleDateString","map","index","toLocaleString","type","payload","Fav","filtered","favs","favMode","page","sort","a","b","reverse","out","indexLast","indexFirst","fav","hotelId","ErrorHelper","id","message","Filter","useForm","mode","register","handleSubmit","errors","formState","location","onSubmit","data","htmlFor","required","minLength","defaultValue","maxLength","min","toISOString","split","max","Header","history","useHistory","Cookies","remove","handleDragStart","e","preventDefault","items2","car1","car2","car3","src","width","onDragStart","alt","Gallery","autoWidth","mouseTracking","items","controlsStrategy","disableButtonsControls","disableDotsControls","infinite","HomeIcon","HotelItem","forEach","padding","fontSize","Loader","Main","loading","hotels","fontWeight","PaginationFilter","quantity","Pagination","count","ceil","onChange","_","num","showFirstButton","showLastButton","sx","marginY","marginX","HomePage","LoginPage","useEffect","get","set","random","substr","expires","pattern","login","password","initialState","state","createBrowserHistory","reducer","combineReducers","router","connectRouter","getHotels","stringCurrDate","stringCheckOut","fetch","res","json","pageFN","setFav","fetchHotels","fetchHots","watchNewsSaga","rootSaga","put","select","hotelIndex","findIndex","newItem","alert","filteredFavs","filter","neededDate","checkOut","setDate","getDate","parseInt","call","bind","results","pathname","takeLatest","LOCATION_CHANGE","takeEvery","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","run","PrivateRoute","children","to","ReactDOM","render","path","exact","document","getElementById"],"mappings":"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","file":"static/js/main.a66140f7.chunk.js","sourcesContent":["import React from 'react'\nimport { IconContext } from 'react-icons'\nimport { AiTwotoneHeart } from 'react-icons/ai';\n\nexport const Heart = ({ size = '16px', isFav, onClick }) => {\n  const color = isFav === true ? 'red' : 'grey'\n  return (\n    <IconContext.Provider\n      value={{ color, size }}\n    >\n      <span\n        onClick={onClick}\n      >\n        <AiTwotoneHeart className={'pointer'} />\n      </span>\n    </IconContext.Provider>\n  )\n}","import React from 'react'\nimport { IconContext } from 'react-icons'\nimport { AiFillStar } from 'react-icons/ai';\n\nexport const Star = ({ color = 'yellow', size = '16px' }) => {\n  return (\n    <IconContext.Provider\n      value={{ color, size }}\n    >\n      <span>\n        <AiFillStar />\n      </span>\n    </IconContext.Provider>\n  )\n}\n","export const emailPattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\nexport const passwordPattern = /.{8,}/\nexport const options = {year: 'numeric', month: 'long', day: 'numeric'};\nexport const RATE = \"RATE\"\nexport const PRICE = \"PRICE\"\nexport const FAV_ITEMS_LENGTH = 3\nexport const pageDomain = '/liis-test/'\nexport const CARDS_PER_PAGE = 3\nexport const MAX_FAVS = 15","export function generateToken() {\n  return Math.random().toString(36).substr(2)\n};\nexport function checkDays(days) {\n  if (days >= 5) {\n    return 'дней'\n  }\n  if (days >= 2) {\n    return 'дня'\n  }\n  return 'день'\n}\n","export const SET_HOTELS = \"SET_HOTELS\";\n\nexport const START_LOADING = \"START_LOADING\";\nexport const END_LOADING = \"END_LOADING\";\n\nexport const SET_REQUEST = \"SET_REQUEST\";\n\nexport const SET_MODE_RATE = \"SET_MODE_RATE\";\nexport const SET_MODE_PRICE = \"SET_MODE_PRICE\";\n\nexport const SET_FAV_APP = \"SET_FAV_APP\";\nexport const SET_FAV = \"SET_FAV\";\n\nexport const CHANGE_PAGE = \"CHANGE_PAGE\";\nexport const SET_PAGE = \"SET_PAGE\";","export const formatPrice = (price) => {\r\n    let formattedPrice = Math.floor(price).toString();\r\n\r\n    switch (formattedPrice.length) {\r\n        case 7: {\r\n            const firstPart = formattedPrice[0];\r\n            const secondPart = formattedPrice.slice(1, 4);\r\n            const thirdPart = formattedPrice.slice(4);\r\n\r\n            formattedPrice = `${firstPart} ${secondPart} ${thirdPart}`;\r\n            break;\r\n        }\r\n        case 6: {\r\n            const firstPart = formattedPrice.slice(0, 3);\r\n            const secondPart = formattedPrice.slice(3);\r\n\r\n            formattedPrice = `${firstPart} ${secondPart}`;\r\n            break;\r\n        }\r\n        case 5: {\r\n            const firstPart = formattedPrice.slice(0, 2);\r\n            const secondPart = formattedPrice.slice(2);\r\n\r\n            formattedPrice = `${firstPart} ${secondPart}`;\r\n            break;\r\n        }\r\n        // no default\r\n    }\r\n\r\n    return formattedPrice;\r\n};","import React from 'react'\nimport {Heart} from '../../../common/Heart';\nimport {Star} from '../../../common/Star';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {options} from '../../../../config';\nimport {checkDays} from '../../../../auxillary';\nimport {SET_FAV_APP} from '../../../../redux/contants';\nimport {formatPrice} from \"../../../common/FormatPrice\";\n\nexport const FavItem = ({hotel}) => {\n    const dispatch = useDispatch()\n\n    const {date, days} = useSelector(store => store.homepage.request)\n    const {\n        hotelName,\n        stars,\n        priceAvg,\n    } = hotel\n\n    const s = []\n    for (let i = 0; i < stars; i++) {\n        s.push('gold')\n    }\n    const dif = 5 - s.length\n    for (let i = 0; i < dif; i++) {\n        s.push('grey')\n    }\n\n    return (\n        <div className='d-flex justify-between align-center'\n             style={{borderBottom: '1px solid #ccc', paddingBottom: '10px '}}>\n            <div className='d-flex align-center'>\n                <div>\n                    <p className='HomePage__FavName'>{hotelName}</p>\n                    <p>{new Date(date).toLocaleDateString('ru-RU', options)} -- {days} {checkDays(days)}</p>\n                    {\n                        s.map((color, index) => {\n                            return <Star\n                                key={color + index + new Date().toLocaleString()}\n                                color={color}\n                            >\n                            </Star>\n                        })\n                    }\n                </div>\n            </div>\n            <div className='d-flex flex-column align-end align-center'>\n                <Heart\n                    size='24px'\n                    isFav={true}\n                    onClick={() => dispatch({type: SET_FAV_APP, payload: hotel})}>\n                </Heart>\n                <p className='text-muted'>price:\n                    <span className='HomePage__price ml-1'>{`${formatPrice(priceAvg)} ₽`}</span>\n                </p>\n            </div>\n        </div>\n    )\n}","import React from 'react'\nimport {CgArrowsScrollV} from 'react-icons/cg';\nimport {FavItem} from './FavItem/FavItem';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {CARDS_PER_PAGE, PRICE, RATE} from '../../../config';\nimport {SET_MODE_PRICE, SET_MODE_RATE} from '../../../redux/contants';\n\nexport const Fav = () => {\n    const dispatch = useDispatch()\n\n    const favs = useSelector(store => store.homepage.favs)\n    const favMode = useSelector(store => store.homepage.favMode)\n    const page = useSelector(store => store.homepage.page)\n\n    let filtered\n\n    if (favMode === RATE) {\n        filtered = favs.sort(function (a, b) {\n            return a.stars - b.stars;\n        });\n    }\n\n    if (favMode === PRICE) {\n        filtered = favs.sort(function (a, b) {\n            return a.priceAvg - b.priceAvg;\n        });\n    }\n\n    filtered.reverse()\n\n    let out = filtered\n    const indexLast = page * CARDS_PER_PAGE\n    const indexFirst = indexLast - CARDS_PER_PAGE\n\n    out = out.slice(indexFirst, indexLast)\n\n    return (\n        <>\n            <h2>Избранное</h2>\n            <div className='d-flex align-center'>\n                <button\n                    className={`btn d-flex align-center mr-1 btn-sm ${favMode === RATE && 'btn-active'}`}\n                    onClick={() => dispatch({type: SET_MODE_RATE})}\n                >\n                    Рейтинг <CgArrowsScrollV></CgArrowsScrollV>\n                </button>\n                <button\n                    className={`btn d-flex align-center btn-sm ${favMode === PRICE && 'btn-active'}`}\n                    onClick={() => dispatch({type: SET_MODE_PRICE})}\n                >\n                    Цена <CgArrowsScrollV></CgArrowsScrollV>\n                </button>\n            </div>\n            <div className='HomePage__favs'>\n                {\n                    out.map(fav => {\n                        return (\n                            <FavItem\n                                key={fav.hotelId}\n                                hotel={fav}\n                            >\n                            </FavItem>\n                        )\n                    })\n                }\n            </div>\n\n        </>\n    )\n}\n","import React from 'react'\n\nexport const ErrorHelper = ({ type }) => {\n  return type\n    ? (\n      <small id=\"emailHelp\" className=\"form-text invalid\">\n        {type.message}\n      </small>\n    )\n    : (\n      <small id=\"emailHelp\" className=\"form-text system-text\">\n        [system_text]\n      </small>\n    )\n}\n","import React from 'react'\nimport { useForm } from 'react-hook-form';\nimport { ErrorHelper } from '../../common/ErrorHelper';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { SET_REQUEST } from '../../../redux/contants';\n\nexport const Filter = () => {\n  const dispatch = useDispatch()\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    mode: 'onBlur'\n  });\n  const onSubmit = (data) => {\n    dispatch({ type: SET_REQUEST, payload: data })\n  };\n  const { location, date, days } = useSelector(store => store.homepage.request)\n  return (\n    <form className='d-flex flex-column align-end justify-between text-center' onSubmit={handleSubmit(onSubmit)}>\n      <div className=\"input-group\">\n        <label className='form-label' htmlFor=\"username\">Локация</label>\n        <input\n          {...register(\n            'location', {\n            required: 'Локация обязательна',\n            minLength: 'Длина локации больше трех символов'\n          })}\n          className='form-control'\n          type=\"text\"\n          defaultValue={location}\n          maxLength={19}\n        />\n        <ErrorHelper type={errors?.location}></ErrorHelper>\n      </div>\n\n      <div className=\"input-group\">\n        <label className='form-label' htmlFor=\"password\">Дата заселения</label>\n        <input\n          {...register('date', {\n            required: 'Дата обязательна',\n          })}\n          className='form-control'\n          type=\"date\"\n          id=\"date\"\n          defaultValue={date}\n          min={new Date().toISOString().split(\"T\")[0]}\n        />\n        <ErrorHelper type={errors?.date}></ErrorHelper>\n      </div>\n\n      <div className=\"input-group\">\n        <label className='form-label' htmlFor=\"username\">Количество дней</label>\n        <input\n          {...register(\n            'days', {\n            required: 'Дни заселения обязательны',\n          })}\n          className='form-control'\n          type=\"number\"\n          defaultValue={days}\n          min={1}\n          max={7}\n        />\n        <ErrorHelper type={errors?.days}></ErrorHelper>\n      </div>\n\n      <button\n        className='btn btn-hotel btn-w100'\n        type='submit'\n      >\n        Найти\n      </button>\n    </form>\n  )\n}\n","import React from 'react'\nimport { MdOutlineExitToApp } from 'react-icons/md';\nimport { IconContext } from \"react-icons\";\nimport Cookies from 'js-cookie';\nimport { useHistory } from 'react-router-dom';\nimport { pageDomain } from '../../../config';\n\nexport const Header = () => {\n  const history = useHistory()\n  const singOut = () => {\n    Cookies.remove('tokenUser')\n    history.push(`${pageDomain}login`)\n  }\n  return (\n    <div className='Header'>\n      <h2>Simple Hotel Check</h2>\n      <div className='d-flex align-center pointer' onClick={singOut} >\n        <button className='btn-outline'>Выйти</button>\n        <IconContext.Provider value={{ color: \"#41522E\", className: \"global-class-name\" }}>\n          <MdOutlineExitToApp size={32}></MdOutlineExitToApp>\n        </IconContext.Provider>\n      </div>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/car1.b9017736.png\";","export default __webpack_public_path__ + \"static/media/car2.d8412d00.png\";","export default __webpack_public_path__ + \"static/media/car3.6e508eab.png\";","import React from 'react';\nimport AliceCarousel from 'react-alice-carousel';\nimport 'react-alice-carousel/lib/alice-carousel.css';\nimport car1 from '../../../../assets/car1.png'\nimport car2 from '../../../../assets/car2.png'\nimport car3 from '../../../../assets/car3.png'\n\nconst imgs = [\n    car1,\n    car2,\n    car3,\n    car2,\n    car1,\n    car2,\n    car3,\n]\nconst handleDragStart = (e) => e.preventDefault();\n\nconst items2 = imgs.map((value, index) => {\n    const style = {width: '150px'};\n    return (<img src={value} style={style} onDragStart={handleDragStart} alt={index}></img>);\n});\n\nexport const Gallery = () => {\n    return (\n        <AliceCarousel\n            autoWidth={true}\n            mouseTracking\n            items={items2}\n            controlsStrategy=\"alternate\"\n            disableButtonsControls={true}\n            disableDotsControls={true}\n            infinite={true}\n        />\n    );\n}","import React from 'react'\nimport { FaHome } from 'react-icons/fa';\nimport { IconContext } from 'react-icons'\n\nexport const HomeIcon = ({ color = '#41522E', size = '32px' }) => {\n  return (\n    <IconContext.Provider\n      value={{ color, size }}\n    >\n      <span>\n        <FaHome />\n      </span>\n    </IconContext.Provider>\n  )\n}","import React from 'react'\nimport {Heart} from './Heart'\nimport {Star} from './Star'\nimport {useDispatch, useSelector} from 'react-redux';\nimport {options} from '../../config';\nimport {HomeIcon} from './HomeIcon';\nimport {checkDays} from '../../auxillary';\nimport {SET_FAV_APP} from '../../redux/contants';\nimport {formatPrice} from \"./FormatPrice\";\n\n\nexport const HotelItem = ({hotel}) => {\n    const dispatch = useDispatch()\n\n    const {date, days} = useSelector(store => store.homepage.request)\n\n    const {\n        hotelName,\n        stars,\n        priceAvg,\n        hotelId\n    } = hotel\n\n    const s = []\n    for (let i = 0; i < stars; i++) {\n        s.push('gold')\n    }\n    const dif = 5 - s.length\n    for (let i = 0; i < dif; i++) {\n        s.push('grey')\n    }\n\n    let isFav = false\n    const favs = useSelector(store => store.homepage.favs)\n    favs.forEach(fav => {\n        if (fav.hotelId === hotelId) {\n            isFav = true\n        }\n    })\n\n    return (\n        <div className='d-flex justify-between align-center'\n             style={{borderBottom: '1px solid #ccc', paddingBottom: '10px '}}>\n            <div className='d-flex align-center'>\n                <div style={{padding: '24px'}}>\n                    <HomeIcon></HomeIcon>\n                </div>\n                <div>\n                    <p style={{fontSize: '15px'}}>{hotelName}</p>\n                    <p>{new Date(date).toLocaleDateString('ru-RU', options)} -- {days} {checkDays(days)}</p>\n                    {\n                        s.map((color, index) => {\n                            return <Star\n                                key={color + index + new Date().toLocaleString()}\n                                color={color}\n                            >\n                            </Star>\n                        })\n                    }\n                </div>\n            </div>\n            <div className='d-flex flex-column align-end align-center'>\n                <Heart\n                    size='24px'\n                    isFav={isFav}\n                    onClick={() => dispatch({type: SET_FAV_APP, payload: hotel})}>\n                </Heart>\n                <p className='text-muted'>price:\n                    <span className='HomePage__price ml-2'>{`${formatPrice(priceAvg)} ₽`}</span>\n                </p>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\n\nconst Loader = () => {\n  return (\n    <div className='Loader'>\n      <div className={'lds-default'}><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n    </div >\n  )\n}\nexport default Loader","import React from 'react'\nimport { IoIosArrowForward } from 'react-icons/io';\nimport { useSelector } from 'react-redux';\nimport { options } from '../../../config';\nimport { Gallery } from './Gallery/Gallery';\nimport { HotelItem } from '../../common/HotelItem';\nimport Loader from '../../common/Loader';\n\nexport const Main = () => {\n  const loading = useSelector(store => store.homepage.loading)\n  const hotels = useSelector(store => store.homepage.hotels)\n  const favs = useSelector(store => store.homepage.favs)\n  const { date, location } = useSelector(store => store.homepage.request)\n  return (\n    <div>\n      <div className='d-flex justify-between'>\n        <div className='d-flex align-center'>\n          <h3 className='Main__header'>Отели</h3>\n          <IoIosArrowForward className='ml-1' size={32}></IoIosArrowForward>\n          <h3 className='Main__header ml-1'>{location}</h3>\n        </div>\n        <h3 style={{ fontSize: '24px', fontWeight: 400, color: '#41522E' }}>{new Date(date).toLocaleDateString('ru-RU', options)}</h3>\n      </div>\n      <Gallery></Gallery>\n      <h3>Добавлено в избранное: {favs.length} ед.</h3>\n      <div>\n        {\n          loading\n            ? <Loader></Loader>\n            :\n            hotels?.message\n              ? <h1>Ничего не найдено</h1>\n              :\n              hotels.length === 0\n                ? <h1>Ничего не найдено</h1>\n                : (\n                  hotels.map(hotel => {\n                    return (\n                      <HotelItem\n                        key={hotel.hotelId}\n                        hotel={hotel}\n                      >\n                      </HotelItem>\n                    )\n                  })\n                )\n        }\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport {Pagination} from '@mui/material';\nimport {CARDS_PER_PAGE} from '../../../config'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {CHANGE_PAGE} from '../../../redux/contants';\n\nexport const PaginationFilter = () => {\n    const favs = useSelector(store => store.homepage.favs)\n    const quantity = favs.length\n    const page = useSelector(store => store.homepage.page)\n    const dispatch = useDispatch()\n    return (\n        <div className='row justify-center'>\n            <Pagination\n                count={Math.ceil(quantity / CARDS_PER_PAGE)}\n                page={page}\n                onChange={(_, num) => dispatch({type: CHANGE_PAGE, payload: num})}\n                showFirstButton\n                showLastButton\n                sx={{marginY: 3, marginX: \"auto\"}}\n            />\n        </div>\n    )\n}\n","import React from 'react'\nimport {Fav} from './Fav/Fav'\nimport {Filter} from './Filter/Filter'\nimport {Header} from './Header/Header'\nimport {Main} from './Main/Main'\nimport {PaginationFilter} from './PaginationFilter/PaginationFilter'\n\nexport const HomePage = () => {\n    return (\n        <div className='HomePage'>\n            <Header></Header>\n            <div className=\"HomePage__grid container\">\n                <div className=\"HomePage__filter HomePage__block\">\n                    <Filter/>\n                </div>\n                <div className=\"HomePage__main HomePage__block\">\n                    <Main/>\n                </div>\n                <div className=\"HomePage__fav HomePage__block\">\n                    <Fav></Fav>\n                    <PaginationFilter/>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React, {useEffect} from 'react'\nimport {useForm} from 'react-hook-form';\nimport {ErrorHelper} from '../common/ErrorHelper';\nimport {emailPattern, pageDomain, passwordPattern} from '../../config';\nimport Cookies from 'js-cookie'\nimport {generateToken} from '../../auxillary';\nimport {useHistory} from \"react-router-dom\";\n\nexport const LoginPage = () => {\n    const history = useHistory()\n    useEffect(() => {\n        if (!!Cookies.get('tokenUser')) {\n            history.push(pageDomain)\n        }\n    }, [])\n\n    const onSubmit = () => {\n        Cookies.set('tokenUser', generateToken(), {expires: 1})\n        history.push(pageDomain)\n    };\n    const {\n        register,\n        handleSubmit,\n        formState: {errors},\n    } = useForm({\n        mode: 'onBlur'\n    });\n    return (\n        <div className='LoginPage'>\n            <form className='Hotel__form text-center' onSubmit={handleSubmit(onSubmit)}>\n                <h3>Simple Hotel Check</h3>\n                <div className=\"input-group\">\n                    <label className='form-label' htmlFor=\"username\">Логин</label>\n                    <input\n                        {...register(\n                            'login', {\n                                required: 'Логин обязателен',\n                                pattern: {\n                                    value: emailPattern,\n                                    message: 'Email pattern be like: example@test.com'\n                                }\n                            })}\n                        className='form-control'\n                        type=\"email\"\n                    />\n                    <ErrorHelper type={errors?.login}></ErrorHelper>\n                </div>\n\n                <div className=\"input-group\">\n                    <label className='form-label' htmlFor=\"password\">Пароль</label>\n                    <input\n                        {...register('password', {\n                            required: 'Пароль обязателен',\n                            pattern: {\n                                value: passwordPattern,\n                                message: 'Минимум 8 символов'\n                            }\n                        })}\n                        className='form-control'\n                        type=\"password\"\n                        id=\"password\"\n                    />\n                    <ErrorHelper type={errors?.password}></ErrorHelper>\n                </div>\n\n                <button\n                    className='btn btn-hotel btn-w100'\n                    type='submit'\n                >\n                    Войти\n                </button>\n            </form>\n            <div className=\"LoginPage__bg\"></div>\n        </div>\n    )\n}\n","import { RATE } from \"../../config\";\nimport { END_LOADING, SET_FAV, SET_HOTELS, SET_MODE_RATE, SET_PAGE, SET_REQUEST, START_LOADING } from \"../contants\";\nimport { PRICE } from './../../config';\nimport { SET_MODE_PRICE } from './../contants';\n\nconst initialState = {\n  hotels: [],\n  loading: true,\n  favs: [],\n  request: {\n    location: 'Москва',\n    date: (new Date()).toISOString().split('T')[0],\n    days: 1,\n  },\n  favMode: PRICE,\n  page: 1\n};\n\nconst homepage = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case SET_HOTELS:\n      return {\n        ...state,\n        hotels: payload,\n      };\n    case START_LOADING:\n      return {\n        ...state,\n        loading: true,\n      };\n    case END_LOADING:\n      return {\n        ...state,\n        loading: false,\n      };\n    case SET_REQUEST:\n      return {\n        ...state,\n        request: payload,\n      };\n    case SET_FAV:\n      return {\n        ...state,\n        favs: payload\n      }\n    case SET_MODE_RATE:\n      return {\n        ...state,\n        favMode: RATE\n      }\n    case SET_MODE_PRICE:\n      return {\n        ...state,\n        favMode: PRICE\n      }\n    case SET_PAGE:\n      return {\n        ...state,\n        page: payload\n      }\n    default: return state;\n  }\n};\n\nexport default homepage;","import { combineReducers } from 'redux';\nimport { createBrowserHistory } from 'history';\nimport { connectRouter } from 'connected-react-router';\nimport homepage from './homepage';\n\nexport const history = createBrowserHistory();\n\nconst reducer = combineReducers({\n  homepage,\n  router: connectRouter(history),\n});\n\nexport default reducer;","export const getHotels = async (location, stringCurrDate, stringCheckOut) => {\n    const res = await fetch(`https://engine.hotellook.com/api/v2/cache.json?location=${location}&currency=rub&checkIn=${stringCurrDate}&checkOut=${stringCheckOut}&limit=5`);\n    return await res.json();\n};\n","import {\n  put,\n  call,\n  takeLatest,\n  select,\n  takeEvery\n} from 'redux-saga/effects';\nimport { LOCATION_CHANGE } from 'connected-react-router';\nimport { getHotels } from '../../api';\nimport {\n  CHANGE_PAGE,\n  END_LOADING,\n  SET_FAV,\n  SET_FAV_APP,\n  SET_HOTELS,\n  SET_PAGE,\n  SET_REQUEST\n} from '../contants';\nimport { START_LOADING } from './../contants';\nimport { pageDomain, MAX_FAVS } from './../../config';\n\nexport function* pageFN({ payload }) {\n  yield put({ type: SET_PAGE, payload })\n}\n\nexport function* setFav({ payload }) {\n  const favs = yield select(({ homepage }) => homepage?.favs);\n  const hotel = payload\n  const hotelIndex = favs.findIndex(hotel => hotel.hotelId === payload.hotelId)\n  if (hotelIndex < 0) {\n    const newItem = {\n      ...hotel,\n    }\n    if (favs.length < MAX_FAVS) {\n      yield put({ type: SET_FAV, payload: [...favs, newItem] })\n    } else {\n      alert('Достигнут лимит избранных отелей')\n    }\n  }\n  else {\n    const filteredFavs = favs.filter(hotel => hotel.hotelId !== payload.hotelId)\n    yield put({ type: SET_FAV, payload: filteredFavs })\n  }\n}\n\nexport function* fetchHotels() {\n  const homepage = yield select(({ homepage }) => homepage);\n  const { request } = homepage\n  const { location, date, days } = request\n\n  const neededDate = new Date(date)\n  const checkOut = new Date()\n  checkOut.setDate(neededDate.getDate() + parseInt(days));\n\n  const stringCurrDate = neededDate.toISOString().split('T')[0]\n  const stringCheckOut = checkOut.toISOString().split('T')[0]\n\n  const results = yield call(getHotels.bind(null, location, stringCurrDate, stringCheckOut))\n\n  yield put({ type: SET_HOTELS, payload: results })\n  yield put({ type: END_LOADING })\n}\n\nexport function* fetchHots() {\n  yield put({ type: START_LOADING })\n  const homepage = yield select(({ homepage }) => homepage);\n  const { request } = homepage\n  const { location, date, days } = request\n\n  const neededDate = new Date(date)\n  const checkOut = new Date()\n  checkOut.setDate(neededDate.getDate() + parseInt(days));\n\n  const stringCurrDate = neededDate.toISOString().split('T')[0]\n  const stringCheckOut = checkOut.toISOString().split('T')[0]\n\n  const results = yield call(getHotels.bind(null, location, stringCurrDate, stringCheckOut))\n  yield put({ type: SET_HOTELS, payload: results })\n  yield put({ type: END_LOADING })\n}\n\nexport function* watchNewsSaga() {\n  const path = yield select(({ router }) => router.location.pathname);\n  if (path === pageDomain) {\n    yield call(fetchHotels);\n  }\n}\n\nexport default function* rootSaga() {\n  yield takeLatest(LOCATION_CHANGE, watchNewsSaga);\n  yield takeLatest(SET_REQUEST, fetchHots);\n  yield takeEvery(SET_FAV_APP, setFav)\n  yield takeEvery(CHANGE_PAGE, pageFN)\n}","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport reducer from './reducers';\nimport rootSaga from './sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst composeEnhancers =\n  typeof window === 'object' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\n\nconst configureStore = preloadedState => createStore(\n  reducer,\n  // preloadedState,\n  composeEnhancers(applyMiddleware(sagaMiddleware)),\n);\n\nconst store = configureStore({});\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;","import {HomePage} from \"./components/HomePage/HomePage\";\nimport {LoginPage} from \"./components/LoginPage/LoginPage\";\nimport './index.css'\nimport './style/grid.css'\nimport './style/style.loader.css'\nimport ReactDOM from 'react-dom';\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport {Route, Switch} from 'react-router-dom';\nimport {ConnectedRouter} from 'connected-react-router';\nimport store from \"./redux\";\nimport {Provider} from \"react-redux\";\nimport {history} from \"./redux/reducers\";\nimport Cookies from \"js-cookie\";\nimport {Redirect} from \"react-router\";\nimport React from \"react\";\nimport {pageDomain} from \"./config\";\n\nconst PrivateRoute = ({children}) => {\n    const tokenUser = Cookies.get('tokenUser')\n    return (\n        !!tokenUser\n            ? children\n            : <Redirect\n                to={{\n                    pathname: `${pageDomain}login`,\n                }}\n            ></Redirect>\n    )\n}\n\nReactDOM.render(\n    <Provider store={store}>\n        <ConnectedRouter history={history}>\n            <Switch>\n                <Route path='/liis-test/login' exact>\n                    <LoginPage/>\n                </Route>\n                <Route path='/liis-test/' exact>\n                    <PrivateRoute>\n                        <HomePage/>\n                    </PrivateRoute>\n                </Route>\n            </Switch>\n        </ConnectedRouter>\n    </Provider>\n    ,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}