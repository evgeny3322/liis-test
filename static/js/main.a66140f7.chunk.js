(this["webpackJsonpliis-test"]=this["webpackJsonpliis-test"]||[]).push([[0],{109:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},113:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(43),r=c(0),s=c(38),i=c(2),o=function(e){var t=e.size,c=void 0===t?"16px":t,n=e.isFav,a=e.onClick,o=!0===n?"red":"grey";return Object(i.jsx)(r.b.Provider,{value:{color:o,size:c},children:Object(i.jsx)("span",{onClick:a,children:Object(i.jsx)(s.b,{className:"pointer"})})})},l=function(e){var t=e.color,c=void 0===t?"yellow":t,n=e.size,a=void 0===n?"16px":n;return Object(i.jsx)(r.b.Provider,{value:{color:c,size:a},children:Object(i.jsx)("span",{children:Object(i.jsx)(s.a,{})})})},j=c(13),b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,d=/.{8,}/,u={year:"numeric",month:"long",day:"numeric"},O="RATE",x="PRICE",m="/liis-test/";function p(e){return e>=5?"\u0434\u043d\u0435\u0439":e>=2?"\u0434\u043d\u044f":"\u0434\u0435\u043d\u044c"}var h="SET_HOTELS",f="START_LOADING",v="END_LOADING",g="SET_REQUEST",y="SET_MODE_RATE",N="SET_MODE_PRICE",_="SET_FAV_APP",w="SET_FAV",S="CHANGE_PAGE",k="SET_PAGE",E=function(e){var t=Math.floor(e).toString();switch(t.length){case 7:var c=t[0],n=t.slice(1,4),a=t.slice(4);t="".concat(c," ").concat(n," ").concat(a);break;case 6:var r=t.slice(0,3),s=t.slice(3);t="".concat(r," ").concat(s);break;case 5:var i=t.slice(0,2),o=t.slice(2);t="".concat(i," ").concat(o)}return t},D=function(e){for(var t=e.hotel,c=Object(j.d)(),n=Object(j.e)((function(e){return e.homepage.request})),a=n.date,r=n.days,s=t.hotelName,b=t.stars,d=t.priceAvg,O=[],x=0;x<b;x++)O.push("gold");for(var m=5-O.length,h=0;h<m;h++)O.push("grey");return Object(i.jsxs)("div",{className:"d-flex justify-between align-center",style:{borderBottom:"1px solid #ccc",paddingBottom:"10px "},children:[Object(i.jsx)("div",{className:"d-flex align-center",children:Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"HomePage__FavName",children:s}),Object(i.jsxs)("p",{children:[new Date(a).toLocaleDateString("ru-RU",u)," -- ",r," ",p(r)]}),O.map((function(e,t){return Object(i.jsx)(l,{color:e},e+t+(new Date).toLocaleString())}))]})}),Object(i.jsxs)("div",{className:"d-flex flex-column align-end align-center",children:[Object(i.jsx)(o,{size:"24px",isFav:!0,onClick:function(){return c({type:_,payload:t})}}),Object(i.jsxs)("p",{className:"text-muted",children:["price:",Object(i.jsx)("span",{className:"HomePage__price ml-1",children:"".concat(E(d)," \u20bd")})]})]})]})},P=function(){var e,t=Object(j.d)(),c=Object(j.e)((function(e){return e.homepage.favs})),n=Object(j.e)((function(e){return e.homepage.favMode})),r=Object(j.e)((function(e){return e.homepage.page}));n===O&&(e=c.sort((function(e,t){return e.stars-t.stars}))),n===x&&(e=c.sort((function(e,t){return e.priceAvg-t.priceAvg}))),e.reverse();var s=e,o=3*r,l=o-3;return s=s.slice(l,o),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h2",{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(i.jsxs)("div",{className:"d-flex align-center",children:[Object(i.jsxs)("button",{className:"btn d-flex align-center mr-1 btn-sm ".concat(n===O&&"btn-active"),onClick:function(){return t({type:y})},children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433 ",Object(i.jsx)(a.a,{})]}),Object(i.jsxs)("button",{className:"btn d-flex align-center btn-sm ".concat(n===x&&"btn-active"),onClick:function(){return t({type:N})},children:["\u0426\u0435\u043d\u0430 ",Object(i.jsx)(a.a,{})]})]}),Object(i.jsx)("div",{className:"HomePage__favs",children:s.map((function(e){return Object(i.jsx)(D,{hotel:e},e.hotelId)}))})]})},I=c(5),T=c(39),H=function(e){var t=e.type;return t?Object(i.jsx)("small",{id:"emailHelp",className:"form-text invalid",children:t.message}):Object(i.jsx)("small",{id:"emailHelp",className:"form-text system-text",children:"[system_text]"})},A=function(){var e=Object(j.d)(),t=Object(T.a)({mode:"onBlur"}),c=t.register,n=t.handleSubmit,a=t.formState.errors,r=Object(j.e)((function(e){return e.homepage.request})),s=r.location,o=r.date,l=r.days;return Object(i.jsxs)("form",{className:"d-flex flex-column align-end justify-between text-center",onSubmit:n((function(t){e({type:g,payload:t})})),children:[Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("label",{className:"form-label",htmlFor:"username",children:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f"}),Object(i.jsx)("input",Object(I.a)(Object(I.a)({},c("location",{required:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430",minLength:"\u0414\u043b\u0438\u043d\u0430 \u043b\u043e\u043a\u0430\u0446\u0438\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0440\u0435\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})),{},{className:"form-control",type:"text",defaultValue:s,maxLength:19})),Object(i.jsx)(H,{type:null===a||void 0===a?void 0:a.location})]}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("label",{className:"form-label",htmlFor:"password",children:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f"}),Object(i.jsx)("input",Object(I.a)(Object(I.a)({},c("date",{required:"\u0414\u0430\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430"})),{},{className:"form-control",type:"date",id:"date",defaultValue:o,min:(new Date).toISOString().split("T")[0]})),Object(i.jsx)(H,{type:null===a||void 0===a?void 0:a.date})]}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("label",{className:"form-label",htmlFor:"username",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439"}),Object(i.jsx)("input",Object(I.a)(Object(I.a)({},c("days",{required:"\u0414\u043d\u0438 \u0437\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b"})),{},{className:"form-control",type:"number",defaultValue:l,min:1,max:7})),Object(i.jsx)(H,{type:null===a||void 0===a?void 0:a.days})]}),Object(i.jsx)("button",{className:"btn btn-hotel btn-w100",type:"submit",children:"\u041d\u0430\u0439\u0442\u0438"})]})},C=c(58),L=c(27),z=c.n(L),q=c(30),F=function(){var e=Object(q.f)();return Object(i.jsxs)("div",{className:"Header",children:[Object(i.jsx)("h2",{children:"Simple Hotel Check"}),Object(i.jsxs)("div",{className:"d-flex align-center pointer",onClick:function(){z.a.remove("tokenUser"),e.push("".concat(m,"login"))},children:[Object(i.jsx)("button",{className:"btn-outline",children:"\u0412\u044b\u0439\u0442\u0438"}),Object(i.jsx)(r.b.Provider,{value:{color:"#41522E",className:"global-class-name"},children:Object(i.jsx)(C.a,{size:32})})]})]})},M=c(61),R=c(59),B=c.n(R),U=(c(51),c.p+"static/media/car1.b9017736.png"),V=c.p+"static/media/car2.d8412d00.png",G=c.p+"static/media/car3.6e508eab.png",X=function(e){return e.preventDefault()},J=[U,V,G,V,U,V,G].map((function(e,t){return Object(i.jsx)("img",{src:e,style:{width:"150px"},onDragStart:X,alt:t})})),W=function(){return Object(i.jsx)(B.a,{autoWidth:!0,mouseTracking:!0,items:J,controlsStrategy:"alternate",disableButtonsControls:!0,disableDotsControls:!0,infinite:!0})},Z=c(60),Q=function(e){var t=e.color,c=void 0===t?"#41522E":t,n=e.size,a=void 0===n?"32px":n;return Object(i.jsx)(r.b.Provider,{value:{color:c,size:a},children:Object(i.jsx)("span",{children:Object(i.jsx)(Z.a,{})})})},Y=function(e){for(var t=e.hotel,c=Object(j.d)(),n=Object(j.e)((function(e){return e.homepage.request})),a=n.date,r=n.days,s=t.hotelName,b=t.stars,d=t.priceAvg,O=t.hotelId,x=[],m=0;m<b;m++)x.push("gold");for(var h=5-x.length,f=0;f<h;f++)x.push("grey");var v=!1,g=Object(j.e)((function(e){return e.homepage.favs}));return g.forEach((function(e){e.hotelId===O&&(v=!0)})),Object(i.jsxs)("div",{className:"d-flex justify-between align-center",style:{borderBottom:"1px solid #ccc",paddingBottom:"10px "},children:[Object(i.jsxs)("div",{className:"d-flex align-center",children:[Object(i.jsx)("div",{style:{padding:"24px"},children:Object(i.jsx)(Q,{})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{style:{fontSize:"15px"},children:s}),Object(i.jsxs)("p",{children:[new Date(a).toLocaleDateString("ru-RU",u)," -- ",r," ",p(r)]}),x.map((function(e,t){return Object(i.jsx)(l,{color:e},e+t+(new Date).toLocaleString())}))]})]}),Object(i.jsxs)("div",{className:"d-flex flex-column align-end align-center",children:[Object(i.jsx)(o,{size:"24px",isFav:v,onClick:function(){return c({type:_,payload:t})}}),Object(i.jsxs)("p",{className:"text-muted",children:["price:",Object(i.jsx)("span",{className:"HomePage__price ml-2",children:"".concat(E(d)," \u20bd")})]})]})]})},$=function(){return Object(i.jsx)("div",{className:"Loader",children:Object(i.jsxs)("div",{className:"lds-default",children:[Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{})]})})},K=function(){var e=Object(j.e)((function(e){return e.homepage.loading})),t=Object(j.e)((function(e){return e.homepage.hotels})),c=Object(j.e)((function(e){return e.homepage.favs})),n=Object(j.e)((function(e){return e.homepage.request})),a=n.date,r=n.location;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"d-flex justify-between",children:[Object(i.jsxs)("div",{className:"d-flex align-center",children:[Object(i.jsx)("h3",{className:"Main__header",children:"\u041e\u0442\u0435\u043b\u0438"}),Object(i.jsx)(M.a,{className:"ml-1",size:32}),Object(i.jsx)("h3",{className:"Main__header ml-1",children:r})]}),Object(i.jsx)("h3",{style:{fontSize:"24px",fontWeight:400,color:"#41522E"},children:new Date(a).toLocaleDateString("ru-RU",u)})]}),Object(i.jsx)(W,{}),Object(i.jsxs)("h3",{children:["\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435: ",c.length," \u0435\u0434."]}),Object(i.jsx)("div",{children:e?Object(i.jsx)($,{}):null!==t&&void 0!==t&&t.message||0===t.length?Object(i.jsx)("h1",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):t.map((function(e){return Object(i.jsx)(Y,{hotel:e},e.hotelId)}))})]})},ee=c(127),te=function(){var e=Object(j.e)((function(e){return e.homepage.favs})),t=e.length,c=Object(j.e)((function(e){return e.homepage.page})),n=Object(j.d)();return Object(i.jsx)("div",{className:"row justify-center",children:Object(i.jsx)(ee.a,{count:Math.ceil(t/3),page:c,onChange:function(e,t){return n({type:S,payload:t})},showFirstButton:!0,showLastButton:!0,sx:{marginY:3,marginX:"auto"}})})},ce=function(){return Object(i.jsxs)("div",{className:"HomePage",children:[Object(i.jsx)(F,{}),Object(i.jsxs)("div",{className:"HomePage__grid container",children:[Object(i.jsx)("div",{className:"HomePage__filter HomePage__block",children:Object(i.jsx)(A,{})}),Object(i.jsx)("div",{className:"HomePage__main HomePage__block",children:Object(i.jsx)(K,{})}),Object(i.jsxs)("div",{className:"HomePage__fav HomePage__block",children:[Object(i.jsx)(P,{}),Object(i.jsx)(te,{})]})]})]})},ne=function(){var e=Object(q.f)();Object(n.useEffect)((function(){z.a.get("tokenUser")&&e.push(m)}),[]);var t=Object(T.a)({mode:"onBlur"}),c=t.register,a=t.handleSubmit,r=t.formState.errors;return Object(i.jsxs)("div",{className:"LoginPage",children:[Object(i.jsxs)("form",{className:"Hotel__form text-center",onSubmit:a((function(){z.a.set("tokenUser",Math.random().toString(36).substr(2),{expires:1}),e.push(m)})),children:[Object(i.jsx)("h3",{children:"Simple Hotel Check"}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("label",{className:"form-label",htmlFor:"username",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(i.jsx)("input",Object(I.a)(Object(I.a)({},c("login",{required:"\u041b\u043e\u0433\u0438\u043d \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d",pattern:{value:b,message:"Email pattern be like: example@test.com"}})),{},{className:"form-control",type:"email"})),Object(i.jsx)(H,{type:null===r||void 0===r?void 0:r.login})]}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("label",{className:"form-label",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(i.jsx)("input",Object(I.a)(Object(I.a)({},c("password",{required:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d",pattern:{value:d,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}})),{},{className:"form-control",type:"password",id:"password"})),Object(i.jsx)(H,{type:null===r||void 0===r?void 0:r.password})]}),Object(i.jsx)("button",{className:"btn btn-hotel btn-w100",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(i.jsx)("div",{className:"LoginPage__bg"})]})},ae=(c(109),c(110),c(111),c(36)),re=c.n(ae),se=c(32),ie=c(25),oe=c(63),le=c(21),je={hotels:[],loading:!0,favs:[],request:{location:"\u041c\u043e\u0441\u043a\u0432\u0430",date:(new Date).toISOString().split("T")[0],days:1},favMode:x,page:1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case h:return Object(I.a)(Object(I.a)({},e),{},{hotels:n});case f:return Object(I.a)(Object(I.a)({},e),{},{loading:!0});case v:return Object(I.a)(Object(I.a)({},e),{},{loading:!1});case g:return Object(I.a)(Object(I.a)({},e),{},{request:n});case w:return Object(I.a)(Object(I.a)({},e),{},{favs:n});case y:return Object(I.a)(Object(I.a)({},e),{},{favMode:O});case N:return Object(I.a)(Object(I.a)({},e),{},{favMode:x});case k:return Object(I.a)(Object(I.a)({},e),{},{page:n});default:return e}},de=Object(le.a)(),ue=Object(ie.b)({homepage:be,router:Object(se.b)(de)}),Oe=c(8),xe=c(10),me=c(15),pe=c(17),he=c(18),fe=function(){var e=Object(he.a)(Object(xe.a)().mark((function e(t,c,n){var a;return Object(xe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://engine.hotellook.com/api/v2/cache.json?location=".concat(t,"&currency=rub&checkIn=").concat(c,"&checkOut=").concat(n,"&limit=5"));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),ve=Object(xe.a)().mark(Se),ge=Object(xe.a)().mark(ke),ye=Object(xe.a)().mark(Ee),Ne=Object(xe.a)().mark(De),_e=Object(xe.a)().mark(Pe),we=Object(xe.a)().mark(Ie);function Se(e){var t;return Object(xe.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(me.b)({type:k,payload:t});case 3:case"end":return c.stop()}}),ve)}function ke(e){var t,c,n,a,r,s;return Object(xe.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(me.c)((function(e){var t=e.homepage;return null===t||void 0===t?void 0:t.favs}));case 3:if(c=i.sent,n=t,a=c.findIndex((function(e){return e.hotelId===t.hotelId})),!(a<0)){i.next=16;break}if(r=Object(I.a)({},n),!(c.length<15)){i.next=13;break}return i.next=11,Object(me.b)({type:w,payload:[].concat(Object(Oe.a)(c),[r])});case 11:i.next=14;break;case 13:alert("\u0414\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442 \u043b\u0438\u043c\u0438\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043e\u0442\u0435\u043b\u0435\u0439");case 14:i.next=19;break;case 16:return s=c.filter((function(e){return e.hotelId!==t.hotelId})),i.next=19,Object(me.b)({type:w,payload:s});case 19:case"end":return i.stop()}}),ge)}function Ee(){var e,t,c,n,a,r,s,i,o,l;return Object(xe.a)().wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,Object(me.c)((function(e){return e.homepage}));case 2:return e=j.sent,t=e.request,c=t.location,n=t.date,a=t.days,r=new Date(n),(s=new Date).setDate(r.getDate()+parseInt(a)),i=r.toISOString().split("T")[0],o=s.toISOString().split("T")[0],j.next=12,Object(me.a)(fe.bind(null,c,i,o));case 12:return l=j.sent,j.next=15,Object(me.b)({type:h,payload:l});case 15:return j.next=17,Object(me.b)({type:v});case 17:case"end":return j.stop()}}),ye)}function De(){var e,t,c,n,a,r,s,i,o,l;return Object(xe.a)().wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,Object(me.b)({type:f});case 2:return j.next=4,Object(me.c)((function(e){return e.homepage}));case 4:return e=j.sent,t=e.request,c=t.location,n=t.date,a=t.days,r=new Date(n),(s=new Date).setDate(r.getDate()+parseInt(a)),i=r.toISOString().split("T")[0],o=s.toISOString().split("T")[0],j.next=14,Object(me.a)(fe.bind(null,c,i,o));case 14:return l=j.sent,j.next=17,Object(me.b)({type:h,payload:l});case 17:return j.next=19,Object(me.b)({type:v});case 19:case"end":return j.stop()}}),Ne)}function Pe(){return Object(xe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.c)((function(e){return e.router.location.pathname}));case 2:if(e.sent!==m){e.next=6;break}return e.next=6,Object(me.a)(Ee);case 6:case"end":return e.stop()}}),_e)}function Ie(){return Object(xe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(pe.a,Pe);case 2:return e.next=4,Object(me.e)(g,De);case 4:return e.next=6,Object(me.d)(_,ke);case 6:return e.next=8,Object(me.d)(S,Se);case 8:case"end":return e.stop()}}),we)}var Te=Object(oe.a)(),He="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ie.c,Ae=Object(ie.d)(ue,He(Object(ie.a)(Te)));Te.run(Ie);var Ce=Ae,Le=function(e){var t=e.children;return z.a.get("tokenUser")?t:Object(i.jsx)(q.a,{to:{pathname:"".concat(m,"login")}})};re.a.render(Object(i.jsx)(j.a,{store:Ce,children:Object(i.jsx)(se.a,{history:de,children:Object(i.jsxs)(q.d,{children:[Object(i.jsx)(q.b,{path:"/liis-test/login",exact:!0,children:Object(i.jsx)(ne,{})}),Object(i.jsx)(q.b,{path:"/liis-test/",exact:!0,children:Object(i.jsx)(Le,{children:Object(i.jsx)(ce,{})})})]})})}),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.a66140f7.chunk.js.map